(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{368:function(e,t,a){"use strict";a.r(t);var s=a(43),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"beacons"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beacons"}},[e._v("#")]),e._v(" Beacons")]),e._v(" "),a("p",[e._v("The beacons are handled by a Docker container to allow the best avaibility of the beacon service.\nIt uses the bluetooth library to get the RSSI value. RSSI is the power of the bluetooth signal of a device, when the device is getting closer, the RSSI value go down to reach 0.")]),e._v(" "),a("p",[e._v("The image is based on the "),a("code",[e._v("bluez")]),e._v(" library which allow the use of "),a("code",[e._v("btmgmt find")]),e._v(" to get all devices near the beacon with their RSSI values.\nA Python script is used to send update either if a new device is found, to update the previous value or even to let the application know if a device is gone.")]),e._v(" "),a("p",[e._v("To build the image, you need to execute:")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("docker build -t beacon-rssi-bluetooth "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("To run the container, you first need to create an "),a("code",[e._v(".env")]),e._v(" file.\nYou can copy the template by doing:")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cp .env.template .env\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("And you can run the container with:")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("docker run -it --privileged --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("host --env-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(".env beacon-rssi-bluetooth\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);